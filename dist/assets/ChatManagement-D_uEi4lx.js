import{r as d,V as m,j as e,x as n,S as p,c}from"./index-DLu291oi.js";import{b as f}from"./index-KjJ5Dpjy.js";import{A as b}from"./AdminLayout-Dm0OODdp.js";import{A as i}from"./AvatarCard-DRlPtZyT.js";import{T as N}from"./Table-BNT2Hw6K.js";import{a as v}from"./Menu-CI0hXIeC.js";import{A as w}from"./Avatar-DIds3tWp.js";import"./Box--JEoGVwv.js";import"./Modal-CuAh2ZEk.js";import"./Typography-BYTqXvty.js";import"./ExitToApp-D9IhrFMs.js";import"./Menu-wfcDCIto.js";import"./Container-Bb2g7vx9.js";import"./TextField-DU2Yq45b.js";import"./isMuiElement-BLZikN05.js";import"./Tooltip-D3jhxpGK.js";import"./Toolbar-DLNi20jQ.js";import"./MenuItem-DcKZufX6.js";import"./Button-CO1hZCK-.js";import"./InputAdornment-BNHTmPj3.js";import"./CircularProgress-DXbiuRRF.js";const C=[{field:"id",headerName:"ID",headerClassName:"table-header",width:200},{field:"avatar",headerName:"Avatart",headerClassName:"table-header",width:150,renderCell:a=>e.jsx(i,{avatar:a.row.avatar})},{field:"name",headerName:"Name",headerClassName:"table-header",width:300},{field:"groupChat",headerName:"Group",headerClassName:"table-header",width:100},{field:"totalMembers",headerName:"Total Members",headerClassName:"table-header",width:120},{field:"members",headerName:"Members",headerClassName:"table-header",width:400,renderCell:a=>e.jsx(i,{max:100,avatar:a.row.members})},{field:"totalMessages",headerName:"Total Messages",headerClassName:"table-header",width:120},{field:"creator",headerName:"Created By",headerClassName:"table-header",width:250,renderCell:a=>e.jsxs(p,{direction:"row",alignItems:"center",spacing:"1rem",children:[e.jsx(w,{alt:a.row.creators.name,src:a.row.creators.avatar}),e.jsx("span",{children:a.row.creators.name})]})}],q=()=>{const{loading:a,data:t,error:o}=f(`${c}/api/v1/admin/chats`,"dashboard-chats");console.log(t),v([{isError:o,erro:o}]);const[l,h]=d.useState([]);return d.useEffect(()=>{t&&h(t.chats.map(r=>({...r,id:r._id,avatar:r.avatar.map(s=>m(s,50)),members:r.members.map(s=>m(s.avatar,50)),creator:{name:r.creators.name,avatar:m(r.creators.avatar,50)}})))},[t]),e.jsx(b,{children:a?e.jsx(n,{height:"100vh"}):e.jsx(N,{heading:"All Chats",columns:C,rows:l})})};export{q as default};
