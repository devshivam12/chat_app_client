import{f as j,u as g,aZ as w,j as e,S as c,x as y,r as k,a_ as q,$ as m}from"./index-DLu291oi.js";import{b as A,a as R}from"./Menu-CI0hXIeC.js";import{D as b,a as v}from"./DialogTitle-Bm_JYwat.js";import{T as x}from"./Typography-BYTqXvty.js";import{L as N}from"./ListItem-Do_Y8ozV.js";import{A as I}from"./Avatar-DIds3tWp.js";import{B as p}from"./Button-CO1hZCK-.js";import"./Modal-CuAh2ZEk.js";import"./Menu-wfcDCIto.js";import"./isMuiElement-BLZikN05.js";const O=()=>{var l;const{isNotification:o}=j(i=>i.misc),t=g(),{data:s,isLoading:a,error:n,isError:u}=w(),[f]=A(q),d=async({_id:i,accept:r})=>{t(m(!1)),await f("Accepting...",{requestId:i,accept:r})};R([{error:n,isError:u}]);const h=()=>t(m(!1));return e.jsx(b,{open:o,onClose:h,children:e.jsxs(c,{p:{xs:"1rem",sm:"2rem"},maxWidth:"25rem",children:[e.jsx(v,{children:"Notifications"}),a?e.jsx(y,{}):(s==null?void 0:s.allRequests.length)>0?(l=s==null?void 0:s.allRequests)==null?void 0:l.map(({sender:i,_id:r})=>e.jsx(C,{sender:i,_id:r,handler:d},r)):e.jsx(x,{textAlign:"center",children:"0 notifications"})]})})},C=k.memo(({sender:o,_id:t,handler:s})=>{const{name:a,avatar:n}=o;return e.jsx(N,{children:e.jsxs(c,{alignItems:"center",spacing:"1rem",width:"100%",direction:"row",children:[e.jsx(I,{src:n}),e.jsx(x,{variant:"body1",sx:{flexGrow:1,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"eclipsis",width:"100%"},children:`${a} sent you friend request`}),e.jsxs(c,{direction:{xs:"column",sm:"row"},children:[e.jsx(p,{onClick:()=>s({_id:t,accept:!0}),children:"Accept"}),e.jsx(p,{color:"error",onClick:()=>s({_id:t,accept:!1}),children:"Reject"})]})]})})});export{O as default};
